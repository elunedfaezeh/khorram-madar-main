<p-toast position="center"></p-toast>
<section id="survey" class="container py-5 mt-2 px-lg-5">
    <div class="mb-3 align-items-center text-center">
        <h1>امتیاز کلی خرم مدار</h1>
        <p-rating [iconOnStyle]="{'color':'orange'}" [ngModel]="rating | number : '1.2-2'" [readonly]="true" [stars]="5"
            [cancel]="false">
        </p-rating>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <p-panel>
                <ng-template pTemplate="header">
                    فرم نظر سنجی
                </ng-template>
                <p-table [value]="survey" [responsive]="true" responsiveLayout="stack">
                    <ng-template pTemplate="body" let-survey let-rowIndex="rowIndex">
                        <tr>
                            <td> {{ rowIndex + 1 }}. {{ survey.question }}  (امتیاز: {{rate[rowIndex].rate}})</td>
                            <td>
                                <p-divider layout="vertical" class="vertical"></p-divider>
                            </td>
                            <td style="justify-content: center;">
                                <p-rating (onRate)="onRate($event,survey.code)" [iconOnStyle]="{'color':'orange'}"
                                    [ngModel]="0 | number : '1.2-2'" [stars]="5" [cancel]="false">
                                </p-rating>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
                <ng-template pTemplate="footer">
                    <div class="row align-items-center justify-content-center">
                        <div class="col-lg-12 ">
                            <textarea rows="5" cols="5" pInputTextarea [(ngModel)]="other"
                                placeholder="لطفاً سایر نظرات و پیشنهادات خود را  مطرح کنید"></textarea>
                        </div>
                    </div>
                    <div class="row text-center mt-4 mb-3">
                        <p-button (onClick)="submitForm()" label="ارسال فرم" styleClass="p-button-rounded"></p-button>
                    </div>
                </ng-template>
            </p-panel>
        </div>
    </div>
</section>